import {
  Zone,
  Asset,
  Alert,
  Incident,
  EvidenceEvent,
  Severity,
  Status,
  AssetType,
} from '../types/domain';

/**
 * Fake Data Fixtures - Mock data for development and testing
 * This module provides realistic sample data for all domain entities
 */

/**
 * Zone fixtures
 */
export const zones: Zone[] = [
  {
    id: 'zone-1',
    name: 'Main Entrance',
    description: 'Primary building entrance with security checkpoint',
    type: 'perimeter',
    assetCount: 8,
    area: 250,
    coordinates: {
      latitude: 37.7749,
      longitude: -122.4194,
    },
    createdAt: new Date('2024-01-15T08:00:00Z'),
    updatedAt: new Date('2024-12-20T10:30:00Z'),
  },
  {
    id: 'zone-2',
    name: 'Parking Lot A',
    description: 'Employee parking area - North side',
    type: 'outdoor',
    assetCount: 12,
    area: 5000,
    coordinates: {
      latitude: 37.7751,
      longitude: -122.4196,
    },
    createdAt: new Date('2024-01-15T08:00:00Z'),
    updatedAt: new Date('2024-12-20T09:15:00Z'),
  },
  {
    id: 'zone-3',
    name: 'Server Room',
    description: 'Data center and network infrastructure',
    type: 'restricted',
    assetCount: 15,
    area: 150,
    createdAt: new Date('2024-01-15T08:00:00Z'),
    updatedAt: new Date('2024-12-23T14:20:00Z'),
  },
  {
    id: 'zone-4',
    name: 'Warehouse Floor',
    description: 'Main storage and logistics area',
    type: 'indoor',
    assetCount: 25,
    area: 10000,
    createdAt: new Date('2024-02-01T08:00:00Z'),
    updatedAt: new Date('2024-12-24T08:45:00Z'),
  },
  {
    id: 'zone-5',
    name: 'Loading Dock',
    description: 'Delivery and shipping area',
    type: 'perimeter',
    parentId: 'zone-4',
    assetCount: 6,
    area: 800,
    createdAt: new Date('2024-02-01T08:00:00Z'),
    updatedAt: new Date('2024-12-24T11:00:00Z'),
  },
];

/**
 * Asset fixtures
 */
export const assets: Asset[] = [
  {
    id: 'asset-1',
    name: 'CAM-ENTRANCE-01',
    type: AssetType.CAMERA,
    model: 'Axis P3245-LVE',
    serialNumber: 'SN-CAM-1001',
    zoneId: 'zone-1',
    zoneName: 'Main Entrance',
    status: 'online',
    health: 95,
    ipAddress: '192.168.1.101',
    lastSeen: new Date('2024-12-24T11:55:00Z'),
    version: '10.12.108',
    metadata: {
      resolution: '1920x1080',
      fps: 30,
      ptz: true,
    },
    createdAt: new Date('2024-01-20T10:00:00Z'),
    updatedAt: new Date('2024-12-24T11:55:00Z'),
  },
  {
    id: 'asset-2',
    name: 'SENSOR-PARKING-05',
    type: AssetType.SENSOR,
    model: 'Bosch Motion Detector',
    serialNumber: 'SN-SENS-2005',
    zoneId: 'zone-2',
    zoneName: 'Parking Lot A',
    status: 'online',
    health: 88,
    ipAddress: '192.168.1.205',
    lastSeen: new Date('2024-12-24T11:58:00Z'),
    version: '2.4.1',
    createdAt: new Date('2024-01-22T14:30:00Z'),
    updatedAt: new Date('2024-12-24T11:58:00Z'),
  },
  {
    id: 'asset-3',
    name: 'GW-SERVER-01',
    type: AssetType.GATEWAY,
    model: 'Cisco ISR 4331',
    serialNumber: 'SN-GW-3001',
    zoneId: 'zone-3',
    zoneName: 'Server Room',
    status: 'online',
    health: 98,
    ipAddress: '192.168.1.1',
    lastSeen: new Date('2024-12-24T11:59:00Z'),
    version: '17.9.4a',
    createdAt: new Date('2024-01-15T09:00:00Z'),
    updatedAt: new Date('2024-12-24T11:59:00Z'),
  },
  {
    id: 'asset-4',
    name: 'CAM-WAREHOUSE-12',
    type: AssetType.CAMERA,
    model: 'Hikvision DS-2CD2345',
    serialNumber: 'SN-CAM-1012',
    zoneId: 'zone-4',
    zoneName: 'Warehouse Floor',
    status: 'offline',
    health: 0,
    ipAddress: '192.168.2.112',
    lastSeen: new Date('2024-12-24T08:30:00Z'),
    version: '5.7.3',
    createdAt: new Date('2024-02-05T11:00:00Z'),
    updatedAt: new Date('2024-12-24T08:30:00Z'),
  },
  {
    id: 'asset-5',
    name: 'SENSOR-DOCK-02',
    type: AssetType.SENSOR,
    model: 'Honeywell Door Contact',
    serialNumber: 'SN-SENS-2102',
    zoneId: 'zone-5',
    zoneName: 'Loading Dock',
    status: 'maintenance',
    health: 60,
    ipAddress: '192.168.2.202',
    lastSeen: new Date('2024-12-24T07:00:00Z'),
    version: '1.8.2',
    createdAt: new Date('2024-02-10T13:00:00Z'),
    updatedAt: new Date('2024-12-24T07:00:00Z'),
  },
  {
    id: 'asset-6',
    name: 'SRV-ANALYTICS-01',
    type: AssetType.SERVER,
    model: 'Dell PowerEdge R740',
    serialNumber: 'SN-SRV-4001',
    zoneId: 'zone-3',
    zoneName: 'Server Room',
    status: 'online',
    health: 92,
    ipAddress: '192.168.1.50',
    lastSeen: new Date('2024-12-24T11:59:30Z'),
    version: 'Ubuntu 22.04 LTS',
    metadata: {
      cpuUsage: 45,
      memoryUsage: 68,
      diskUsage: 72,
    },
    createdAt: new Date('2024-01-15T09:30:00Z'),
    updatedAt: new Date('2024-12-24T11:59:30Z'),
  },
];

/**
 * Alert fixtures
 */
export const alerts: Alert[] = [
  {
    id: 'alert-1',
    title: 'Motion Detected - After Hours',
    description: 'Unauthorized motion detected in restricted area outside business hours',
    severity: Severity.HIGH,
    status: Status.ACTIVE,
    assetId: 'asset-2',
    assetName: 'SENSOR-PARKING-05',
    zoneId: 'zone-2',
    zoneName: 'Parking Lot A',
    type: 'motion_detection',
    ruleId: 'rule-101',
    ruleName: 'After Hours Motion Alert',
    evidenceEventIds: ['evidence-1', 'evidence-2'],
    createdAt: new Date('2024-12-24T02:30:00Z'),
    updatedAt: new Date('2024-12-24T02:30:00Z'),
  },
  {
    id: 'alert-2',
    title: 'Camera Offline',
    description: 'Camera has lost network connectivity',
    severity: Severity.MEDIUM,
    status: Status.ACKNOWLEDGED,
    assetId: 'asset-4',
    assetName: 'CAM-WAREHOUSE-12',
    zoneId: 'zone-4',
    zoneName: 'Warehouse Floor',
    type: 'device_offline',
    ruleId: 'rule-205',
    ruleName: 'Device Health Monitor',
    acknowledgedBy: 'john.smith@klastack-nx.com',
    acknowledgedAt: new Date('2024-12-24T08:45:00Z'),
    evidenceEventIds: [],
    createdAt: new Date('2024-12-24T08:30:00Z'),
    updatedAt: new Date('2024-12-24T08:45:00Z'),
  },
  {
    id: 'alert-3',
    title: 'Multiple Failed Access Attempts',
    description: 'Three consecutive failed badge scans at secure entry point',
    severity: Severity.CRITICAL,
    status: Status.ACTIVE,
    assetId: 'asset-1',
    assetName: 'CAM-ENTRANCE-01',
    zoneId: 'zone-1',
    zoneName: 'Main Entrance',
    type: 'access_violation',
    ruleId: 'rule-301',
    ruleName: 'Access Control Policy',
    evidenceEventIds: ['evidence-3', 'evidence-4', 'evidence-5'],
    createdAt: new Date('2024-12-24T11:20:00Z'),
    updatedAt: new Date('2024-12-24T11:20:00Z'),
  },
  {
    id: 'alert-4',
    title: 'Temperature Threshold Exceeded',
    description: 'Server room temperature above acceptable range (28Â°C)',
    severity: Severity.HIGH,
    status: Status.RESOLVED,
    assetId: 'asset-3',
    assetName: 'GW-SERVER-01',
    zoneId: 'zone-3',
    zoneName: 'Server Room',
    type: 'environmental',
    ruleId: 'rule-402',
    ruleName: 'Environmental Monitoring',
    acknowledgedBy: 'admin@klastack-nx.com',
    acknowledgedAt: new Date('2024-12-23T15:10:00Z'),
    resolvedBy: 'admin@klastack-nx.com',
    resolvedAt: new Date('2024-12-23T16:30:00Z'),
    evidenceEventIds: ['evidence-6'],
    createdAt: new Date('2024-12-23T15:05:00Z'),
    updatedAt: new Date('2024-12-23T16:30:00Z'),
  },
  {
    id: 'alert-5',
    title: 'Door Forced Open',
    description: 'Loading dock door opened without proper authorization',
    severity: Severity.CRITICAL,
    status: Status.ACKNOWLEDGED,
    assetId: 'asset-5',
    assetName: 'SENSOR-DOCK-02',
    zoneId: 'zone-5',
    zoneName: 'Loading Dock',
    type: 'intrusion',
    ruleId: 'rule-501',
    ruleName: 'Perimeter Security',
    acknowledgedBy: 'security@klastack-nx.com',
    acknowledgedAt: new Date('2024-12-24T10:05:00Z'),
    evidenceEventIds: ['evidence-7'],
    createdAt: new Date('2024-12-24T10:00:00Z'),
    updatedAt: new Date('2024-12-24T10:05:00Z'),
  },
  {
    id: 'alert-6',
    title: 'Low Storage Space',
    description: 'Analytics server disk usage above 80%',
    severity: Severity.LOW,
    status: Status.ACTIVE,
    assetId: 'asset-6',
    assetName: 'SRV-ANALYTICS-01',
    zoneId: 'zone-3',
    zoneName: 'Server Room',
    type: 'system_health',
    ruleId: 'rule-601',
    ruleName: 'Resource Monitoring',
    evidenceEventIds: [],
    createdAt: new Date('2024-12-24T09:00:00Z'),
    updatedAt: new Date('2024-12-24T09:00:00Z'),
  },
];

/**
 * Incident fixtures
 */
export const incidents: Incident[] = [
  {
    id: 'incident-1',
    title: 'Unauthorized Parking Lot Access Investigation',
    description:
      'Investigation into after-hours motion detection in employee parking area. Reviewing footage and cross-referencing with access logs.',
    severity: Severity.HIGH,
    status: Status.ACTIVE,
    type: 'security_breach',
    zoneId: 'zone-2',
    zoneName: 'Parking Lot A',
    assignedTo: 'jane.doe@klastack-nx.com',
    createdBy: 'john.smith@klastack-nx.com',
    alertIds: ['alert-1'],
    evidenceEventIds: ['evidence-1', 'evidence-2'],
    tags: ['after-hours', 'parking', 'investigation'],
    notes: 'Initial review shows unidentified vehicle. Pulling additional camera angles.',
    createdAt: new Date('2024-12-24T03:00:00Z'),
    updatedAt: new Date('2024-12-24T11:30:00Z'),
  },
  {
    id: 'incident-2',
    title: 'Failed Access Attempt - Main Entrance',
    description:
      'Multiple failed badge scans followed by forced entry attempt. Immediate security response deployed.',
    severity: Severity.CRITICAL,
    status: Status.ACTIVE,
    type: 'intrusion_attempt',
    zoneId: 'zone-1',
    zoneName: 'Main Entrance',
    assignedTo: 'security@klastack-nx.com',
    createdBy: 'system',
    alertIds: ['alert-3'],
    evidenceEventIds: ['evidence-3', 'evidence-4', 'evidence-5'],
    tags: ['critical', 'access-control', 'active-threat'],
    notes: 'Law enforcement notified. Security team on-site.',
    createdAt: new Date('2024-12-24T11:22:00Z'),
    updatedAt: new Date('2024-12-24T11:50:00Z'),
  },
  {
    id: 'incident-3',
    title: 'Loading Dock Unauthorized Entry',
    description:
      'Door sensor triggered outside scheduled delivery hours. Investigating potential security breach.',
    severity: Severity.HIGH,
    status: Status.ACKNOWLEDGED,
    type: 'physical_security',
    zoneId: 'zone-5',
    zoneName: 'Loading Dock',
    assignedTo: 'john.smith@klastack-nx.com',
    createdBy: 'security@klastack-nx.com',
    alertIds: ['alert-5'],
    evidenceEventIds: ['evidence-7'],
    tags: ['loading-dock', 'after-hours', 'unauthorized-access'],
    notes: 'Checking delivery schedule and employee access logs.',
    createdAt: new Date('2024-12-24T10:10:00Z'),
    updatedAt: new Date('2024-12-24T11:00:00Z'),
  },
  {
    id: 'incident-4',
    title: 'Server Room HVAC Failure',
    description:
      'Temperature spike in server room due to HVAC malfunction. Equipment safety protocols activated.',
    severity: Severity.MEDIUM,
    status: Status.RESOLVED,
    type: 'environmental',
    zoneId: 'zone-3',
    zoneName: 'Server Room',
    assignedTo: 'admin@klastack-nx.com',
    createdBy: 'admin@klastack-nx.com',
    resolvedBy: 'admin@klastack-nx.com',
    resolvedAt: new Date('2024-12-23T16:45:00Z'),
    alertIds: ['alert-4'],
    evidenceEventIds: ['evidence-6'],
    tags: ['hvac', 'environmental', 'maintenance'],
    notes: 'HVAC contractor dispatched and issue resolved. System back to normal.',
    createdAt: new Date('2024-12-23T15:15:00Z'),
    updatedAt: new Date('2024-12-23T16:45:00Z'),
  },
  {
    id: 'incident-5',
    title: 'Camera Network Outage - Warehouse',
    description:
      'Multiple cameras in warehouse zone reporting connectivity issues. Network team investigating.',
    severity: Severity.MEDIUM,
    status: Status.ACTIVE,
    type: 'technical',
    zoneId: 'zone-4',
    zoneName: 'Warehouse Floor',
    assignedTo: 'it-support@klastack-nx.com',
    createdBy: 'john.smith@klastack-nx.com',
    alertIds: ['alert-2'],
    evidenceEventIds: [],
    tags: ['network', 'cameras', 'infrastructure'],
    notes: 'Switch reboot scheduled for tonight during maintenance window.',
    createdAt: new Date('2024-12-24T08:50:00Z'),
    updatedAt: new Date('2024-12-24T10:30:00Z'),
  },
];

/**
 * Evidence Event fixtures
 */
export const evidenceEvents: EvidenceEvent[] = [
  {
    id: 'evidence-1',
    type: 'video',
    assetId: 'asset-2',
    assetName: 'SENSOR-PARKING-05',
    zoneId: 'zone-2',
    zoneName: 'Parking Lot A',
    storageUrl: '/storage/evidence/video/2024-12-24/evidence-1.mp4',
    thumbnailUrl: '/storage/evidence/thumbnails/evidence-1.jpg',
    fileSize: 45678912,
    mimeType: 'video/mp4',
    duration: 180,
    alertIds: ['alert-1'],
    incidentIds: ['incident-1'],
    metadata: {
      resolution: '1920x1080',
      codec: 'h264',
      frameRate: 30,
    },
    capturedAt: new Date('2024-12-24T02:30:00Z'),
    createdAt: new Date('2024-12-24T02:31:00Z'),
  },
  {
    id: 'evidence-2',
    type: 'image',
    assetId: 'asset-2',
    assetName: 'SENSOR-PARKING-05',
    zoneId: 'zone-2',
    zoneName: 'Parking Lot A',
    storageUrl: '/storage/evidence/images/2024-12-24/evidence-2.jpg',
    thumbnailUrl: '/storage/evidence/thumbnails/evidence-2.jpg',
    fileSize: 2345678,
    mimeType: 'image/jpeg',
    alertIds: ['alert-1'],
    incidentIds: ['incident-1'],
    metadata: {
      resolution: '4000x3000',
      exifData: {
        timestamp: '2024-12-24T02:30:15Z',
      },
    },
    capturedAt: new Date('2024-12-24T02:30:15Z'),
    createdAt: new Date('2024-12-24T02:31:15Z'),
  },
  {
    id: 'evidence-3',
    type: 'video',
    assetId: 'asset-1',
    assetName: 'CAM-ENTRANCE-01',
    zoneId: 'zone-1',
    zoneName: 'Main Entrance',
    storageUrl: '/storage/evidence/video/2024-12-24/evidence-3.mp4',
    thumbnailUrl: '/storage/evidence/thumbnails/evidence-3.jpg',
    fileSize: 89012345,
    mimeType: 'video/mp4',
    duration: 300,
    alertIds: ['alert-3'],
    incidentIds: ['incident-2'],
    metadata: {
      resolution: '1920x1080',
      codec: 'h264',
      frameRate: 30,
      ptzPosition: 'entrance-door',
    },
    capturedAt: new Date('2024-12-24T11:20:00Z'),
    createdAt: new Date('2024-12-24T11:21:00Z'),
  },
  {
    id: 'evidence-4',
    type: 'image',
    assetId: 'asset-1',
    assetName: 'CAM-ENTRANCE-01',
    zoneId: 'zone-1',
    zoneName: 'Main Entrance',
    storageUrl: '/storage/evidence/images/2024-12-24/evidence-4.jpg',
    thumbnailUrl: '/storage/evidence/thumbnails/evidence-4.jpg',
    fileSize: 3456789,
    mimeType: 'image/jpeg',
    alertIds: ['alert-3'],
    incidentIds: ['incident-2'],
    metadata: {
      resolution: '1920x1080',
      faceDetected: true,
    },
    capturedAt: new Date('2024-12-24T11:20:30Z'),
    createdAt: new Date('2024-12-24T11:20:35Z'),
  },
  {
    id: 'evidence-5',
    type: 'log',
    assetId: 'asset-1',
    assetName: 'CAM-ENTRANCE-01',
    zoneId: 'zone-1',
    zoneName: 'Main Entrance',
    storageUrl: '/storage/evidence/logs/2024-12-24/evidence-5.txt',
    fileSize: 12345,
    mimeType: 'text/plain',
    alertIds: ['alert-3'],
    incidentIds: ['incident-2'],
    metadata: {
      badgeScans: [
        { timestamp: '11:18:45', badge: 'INVALID', result: 'DENIED' },
        { timestamp: '11:19:12', badge: 'INVALID', result: 'DENIED' },
        { timestamp: '11:19:58', badge: 'INVALID', result: 'DENIED' },
      ],
    },
    capturedAt: new Date('2024-12-24T11:20:00Z'),
    createdAt: new Date('2024-12-24T11:20:05Z'),
  },
  {
    id: 'evidence-6',
    type: 'sensor_data',
    assetId: 'asset-3',
    assetName: 'GW-SERVER-01',
    zoneId: 'zone-3',
    zoneName: 'Server Room',
    storageUrl: '/storage/evidence/sensor/2024-12-23/evidence-6.json',
    fileSize: 8765,
    mimeType: 'application/json',
    alertIds: ['alert-4'],
    incidentIds: ['incident-4'],
    metadata: {
      temperature: 28.5,
      humidity: 65,
      readings: [
        { time: '15:00', temp: 26.5 },
        { time: '15:05', temp: 28.5 },
        { time: '15:10', temp: 29.2 },
      ],
    },
    capturedAt: new Date('2024-12-23T15:05:00Z'),
    createdAt: new Date('2024-12-23T15:05:30Z'),
  },
  {
    id: 'evidence-7',
    type: 'video',
    assetId: 'asset-5',
    assetName: 'SENSOR-DOCK-02',
    zoneId: 'zone-5',
    zoneName: 'Loading Dock',
    storageUrl: '/storage/evidence/video/2024-12-24/evidence-7.mp4',
    thumbnailUrl: '/storage/evidence/thumbnails/evidence-7.jpg',
    fileSize: 67890123,
    mimeType: 'video/mp4',
    duration: 240,
    alertIds: ['alert-5'],
    incidentIds: ['incident-3'],
    metadata: {
      resolution: '1280x720',
      codec: 'h264',
      frameRate: 25,
      doorSensorState: 'forced',
    },
    capturedAt: new Date('2024-12-24T10:00:00Z'),
    createdAt: new Date('2024-12-24T10:00:30Z'),
  },
];

/**
 * Helper functions to filter and query fixtures
 */

export const getZoneById = (id: string): Zone | undefined => zones.find((z) => z.id === id);

export const getAssetById = (id: string): Asset | undefined => assets.find((a) => a.id === id);

export const getAlertById = (id: string): Alert | undefined => alerts.find((a) => a.id === id);

export const getIncidentById = (id: string): Incident | undefined =>
  incidents.find((i) => i.id === id);

export const getEvidenceEventById = (id: string): EvidenceEvent | undefined =>
  evidenceEvents.find((e) => e.id === id);

export const getAssetsByZone = (zoneId: string): Asset[] =>
  assets.filter((a) => a.zoneId === zoneId);

export const getAlertsByStatus = (status: Status): Alert[] =>
  alerts.filter((a) => a.status === status);

export const getIncidentsByStatus = (status: Status): Incident[] =>
  incidents.filter((i) => i.status === status);

export const getActiveAlerts = (): Alert[] => alerts.filter((a) => a.status === Status.ACTIVE);

export const getActiveIncidents = (): Incident[] =>
  incidents.filter((i) => i.status === Status.ACTIVE);

export const getCriticalAlerts = (): Alert[] =>
  alerts.filter((a) => a.severity === Severity.CRITICAL);
